# Геймифицированный коучинг: продуктовая документация

## 1. Core loop геймификации
### 1.1 Структура цикла
1. **Триггер** — пользователь получает push/уведомление о ежедневной миссии.
2. **Выбор миссии** — экран квестов показывает текущие задания и прогресс.
3. **Выполнение** — пользователь проходит тренировки/коучинг.
4. **Фиксация результата** — логирование активности, оценка самочувствия.
5. **Награда и социальное подтверждение** — начисление опыта, лута, публикация в клубе.
6. **Аналитика и апсейл** — отображение прогресса, предложение новых челленджей/пакетов.
7. **Реинициация** — выдача следующей миссии/уровня.

### 1.2 Квесты
- **Типы:** ежедневные (поддержание streak), недельные (серии занятий), сюжетные кампании (unlock навыков), сезонные события.
- **Механика:** каждая миссия имеет цель (время, интенсивность, знания), бонусы XP и валюты, модификаторы (мультипликатор за выполнение подряд).
- **Прогресс:** трёхстадийные шкалы (начато → в процессе → завершено). Для командных квестов отображается вклад каждого участника.

### 1.3 Уровни
- **Профиль:** 50 уровней, разделённых на 5 рангов (Novice, Explorer, Challenger, Expert, Mentor). Ранги дают доступ к новым функциям.
- **XP кривая:** линейно-ускоренная (уровень N требует `200 + (N-1)*75` XP). Уровни связаны с навыковыми деревьями (мягкие/жёсткие навыки).
- **Престиж:** после уровня 50 — возможность «престижнуть», получить редкий бейдж и доступ к элитным челленджам.

### 1.4 Награды
- **Валюты:** `XP`, `Energy` (ограничивает участие в челленджах), `Coins` (магазин), `Gems` (премиум).
- **Коллектиблс:** карточки наставников, скины интерфейса, аудио-медитации, усилители (`+10% XP`).
- **Социальные награды:** бейджи за вклад в клуб, титулы в лидербордах, совместные трофеи.
- **Реальные бонусы:** скидки на коучинг-сессии, мерч, бесплатные вебинары.

### 1.5 Социальные челленджи
- **Форматы:**
  - Кооперативные рейды (группа закрывает суммарный объём активности).
  - Асинхронные дуэли (сравнение достижений за период).
  - Командные сезонные лиги (рейтинговая система Elo).
- **Механики взаимодействия:** реактивные эмодзи, подарки бустеров, голосование за MVP.
- **Модерация:** фильтрация спама, уровни доверия, жалобы.

### 1.6 Визуальные метафоры и анимации
- **Метафора «Цифровой город прогресса»:** 
  - Квесты представлены как здания/кварталы (академия, арена, мастерская).
  - Уровни — этажи небоскрёба роста.
  - Награды — сундуки, светящиеся сферы энергии.
- **Анимации:**
  - Всплывающая карта города при онбординге (scale-in + parallax).
  - Завершение миссии — «салют» частиц над зданием, плавный счётчик XP.
  - Повышение уровня — рост неона вдоль фасада небоскрёба, вспышка, затем плавный reveal новых функций.
  - Соц. взаимодействия — всплывающие аватарки с trail-эффектом при реакциях.
- **UX микровзаимодействия:** виброотклик при получении награды, haptic feedback для мобильных, звуковые cues (чистые синт-пэды + мягкие колокольчики).

---

## 2. Дизайн-система и moodboard
### 2.1 Ключевые слова moodboard
- «Неоновые тропики», «техно-вайб», «здоровый прогресс», «командный дух», «футуристический коучинг».
- Референсы: Monument Valley (архитектура), Tron Legacy (подсветки), Duolingo (дружелюбные анимации), Apple Fitness (графики).

### 2.2 Цветовая палитра
| Роль | Hex | Название | Использование |
|------|-----|----------|---------------|
| Primary | #5B4DFF | Neon Violet | CTA, активные элементы |
| Primary Dark | #2D1EBF | Deep Nebula | Hover/pressed, акценты |
| Secondary | #22D4A5 | Pulse Mint | Позитивные состояния, прогресс |
| Background 1 | #0A0B1E | Starfield | Основной фон |
| Background 2 | #111431 | Panel | Карточки/панели |
| Surface | #1E2148 | Hovered surface |
| Accent Warm | #FF8A5C | Sunset Ember | Внимание, streak break |
| Neutral 100 | #FFFFFF | Pure Light | Текст на тёмном фоне |
| Neutral 60 | #9CA5D1 | Muted Sky | Вторичный текст |
| Neutral 30 | #4D5380 | Borders |
| Success | #44E38C | Positive Glow | Успехи |
| Warning | #F7D047 | Solar Flare | Предупреждения |
| Error | #FF5C8D | Rose Alert | Ошибки |

### 2.3 Типографика
- **Заголовки:** `Urbanist`, weights 700/600.
- **Основной текст:** `Inter`, weights 400/500.
- **Цифры/мониторинг:** `Space Mono`, weight 400.
- Масштаб: H1 48px, H2 36px, H3 28px, H4 22px, Body 16px, Caption 13px.

### 2.4 Компоненты UI-kit
- **Базовые элементы:** кнопки (primary/secondary/ghost), инпуты с футуристическими бордерами, чекбоксы/тогглы с подсветкой, статусные теги.
- **Навигация:** bottom-tab для мобильных, вертикальная sidebar для десктопа, bread-crumb для дашбордов.
- **Карточки:** квест-карточки (иконка здания, прогресс-бар, CTA), коучинг-сессии (аватар наставника, время, статус), карточки наград.
- **Графики:** радиальные диаграммы прогресса, stacked area для трендов, leaderboard таблицы с подсветкой позиций.
- **Модальные окна:** поздравления, подтверждения покупки, onboarding overlays.
- **UI states:** пустые состояния с иллюстрациями города, skeleton loading.

### 2.5 Система иконографии и иллюстраций
- Геометрические, изометрические формы, мягкие градиенты.
- Персонажи-наставники как стилизованные голограммы.
- Линии связи/нейросети для отображения связей в клубах.

### 2.6 Гайд по Figma UI-kit
- Структура файла: `00 Cover`, `01 Foundations`, `02 Components`, `03 Patterns`, `04 Screens`.
- Использовать Auto Layout, Variants для состояний, токены цвета/типографики через Styles.
- Подготовить библиотеку с `Color Styles`, `Text Styles`, `Effects` (glow, shadows), компоненты со свойствами (size, tone, state).

### 2.7 Moodboard
- Собрать на Figma страницу с сеткой 8 колонок: блоки архитектурного неона, здорового лайфстайла, social proof.
- Включить фрагменты UI из фитнес-приложений, выдержанные в тёмной теме, добавить фотографии людей в динамике, рендеры футуристических городов.

---

## 3. Пользовательские флоу
### 3.1 Онбординг
1. **Splash (анимация города).**
2. **Регистрация:** выбор цели (здоровье, продуктивность, стресс), социальный вход.
3. **Настройка аватара-голограммы, выбор наставника.**
4. **Тест-драйв:** демо-квест, интерактивный walkthrough интерфейса.
5. **Интеграции:** подключение трекеров (Apple Health, Google Fit) + календарь.
6. **Подтверждение стрика:** выдача стартового лута и план на 1-ю неделю.

### 3.2 Ежедневный коучинг
1. Push + виджет «Сегодня». 
2. Экран Daily Quest: список миссий, таймеры, доступная энергия.
3. Старт сессии → коуч-бот (чат или видео) → мини-игры (квиз, дыхательные практики).
4. Завершение → логирование результата, оценка состояния (мудборд эмоций).
5. Получение наград, сравнение с друзьями, предложение следующего шага.

### 3.3 Аналитические дашборды
- **Главный экран:** обзоры прогресса по целям (карточки KPI, streak, mood).
- **Детализация:** вкладки «Активность», «Навыки», «Комьюнити».
  - Активность: график «энергия/дни», heatmap выполнения.
  - Навыки: дерево навыков, уровни навыков, рекомендации.
  - Комьюнити: вклад в рейды, позиция в лидербордах.
- **Фильтры:** период, тип коучинга, индивидуальный/командный.
- **Экшены:** экспорт отчётов, запрос обратной связи у наставника.

### 3.4 Внутриигровой магазин и ачивки
- **Магазин:**
  1. Категории (скины, бустеры, контент).
  2. Превью товара (3D/анимированные карточки).
  3. Детали: стоимость, эффекты, ограничения.
  4. Покупка: подтверждение, выбор способа оплаты (Coins/Gems/реальные), чек завершения.
  5. Инвентарь: управление, активация бустеров.
- **Ачивки:**
  - Древо достижений с прогресс-барами, редкие/легендарные трофеи.
  - Соц. шаринг (экспорт ачивки, сторис-превью).
  - Адаптивные челленджи (AI рекомендует ачивку по поведению).

---

## 4. Адаптивность и accessibility
### 4.1 Брейкпоинты
- **Mobile:** ≤480px (bottom navigation, карточная подача).
- **Tablet:** 481–1024px (split view: контент + карта города).
- **Desktop:** ≥1025px (sidebar + контент + вспомогательные панели).
- Использовать fluid spacing (`8px` базовая сетка), типографику через `clamp()`.

### 4.2 Адаптивные паттерны
- Карта города → интерактивный горизонтальный скролл на мобайле, панель-план на десктопе.
- Дашборды → stacking → табы → многооконный режим.
- Магазин → свайпы на мобайле, гриды на десктопе.

### 4.3 Accessibility
- Контраст ≥ 4.5:1 для текста, ≥ 3:1 для крупного.
- Поддержка клавиатурной навигации, видимые focus states (glow outline).
- Текстовые альтернативы для анимаций, возможность отключить интенсивные эффекты.
- Поддержка screen readers (aria-labels, структурированные heading levels).
- Haptic/audio можно отключить; субтитры для видео-контента.
- Локализация: поддержка RTL, масштабирование шрифта до 200% без потерь.
- Контролируемые анимации (prefers-reduced-motion → fade/slide без вспышек).

### 4.4 Производительность
- Lazy-loading медиаконтента, оптимизация для 60fps на мобильных.
- Использование Lottie/After Effects для лёгких анимаций.
- Рендеринг WebGL карты города только на high-end устройствах, fallback в виде статичного изображения.

### 4.5 Документация для разработчиков
- Figma → Dev Mode, публикация токенов через JSON.
- Storybook/Playroom для проверки компонентов.
- Accessibility чек-листы (WCAG 2.1 AA) интегрированы в CI.

